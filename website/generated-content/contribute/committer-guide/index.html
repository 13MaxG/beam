

<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  
 
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Beam Committer Guide</title>
<meta name="description" content="Apache Beam is an open source, unified model and set of language-specific SDKs for defining and executing data processing workflows, and also data ingestion and integration flows, supporting Enterprise Integration Patterns (EIPs) and Domain Specific Languages (DSLs). Dataflow pipelines simplify the mechanics of large-scale batch and streaming data processing and can run on a number of runtimes like Apache Flink, Apache Spark, and Google Cloud Dataflow (a cloud service). Beam also brings DSL in different languages, allowing users to easily implement their data integration processes.">
 
<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400" rel="stylesheet">
 


    
    <link rel="preload" href="/scss/main.min.6cf124c52d81266909df192fec23a0016213aa4e3900fa5452abcab3d7bab97b.css" as="style">
    <link href="/scss/main.min.6cf124c52d81266909df192fec23a0016213aa4e3900fa5452abcab3d7bab97b.css" rel="stylesheet" integrity="">


<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>

<style>
  .body__contained img { max-width: 100% }
</style>

<script src="/js/bootstrap.min.js"></script>
<script src="/js/language-switch.js"></script>
<script src="/js/fix-menu.js"></script>
<script src="/js/section-nav.js"></script>
<script src="/js/page-nav.js"></script>

<link rel="alternate" type="application/rss+xml" title="Apache Beam" href="/feed.xml">
<link rel="canonical" href="/contribute/committer-guide/" data-proofer-ignore>
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-73650088-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body class="body" data-spy="scroll" data-target=".page-nav" data-offset="0">
  

<nav class="header navbar navbar-fixed-top">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href=/ class="navbar-brand" >
        <img alt="Brand" style="height: 25px" src="/images/beam_logo_navbar.png">
      </a>
    </div>

    <div class="navbar-mask closed"></div>

    <div id="navbar" class="navbar-container closed">
      <ul class="nav navbar-nav">
        <li>
          <a href=/get-started/beam-overview/>Get Started</a>
        </li>
        <li>
          <a href=/documentation/>Documentation</a>
        </li>
        <li>
          <a href=/documentation/sdks/java/>Languages</a>
        </li>
        <li>
          <a href=/documentation/runners/capability-matrix/>RUNNERS</a>
        </li>
        <li>
          <a href=/roadmap/>Roadmap</a>
        </li>
        <li>
          <a href=/contribute/>Contribute</a>
        </li>
        <li>
          <a href=/community/contact-us/>Community</a>
        </li>
        <li><a href=/blog/>Blog</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <div style="width: 300px;">
            <script>
              (function() {
                var cx = '012923275103528129024:4emlchv9wzi';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
              })();
            </script>
            <gcse:search></gcse:search>
          </div>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><img src="https://www.apache.org/foundation/press/kit/feather_small.png" alt="Apache Logo" style="height:20px;"><span class="caret"></span></a>
          <ul class="dropdown-menu dropdown-menu-right">
            <li><a href="http://www.apache.org/">ASF Homepage</a></li>
            <li><a href="http://www.apache.org/licenses/">License</a></li>
            <li><a href="http://www.apache.org/security/">Security</a></li>
            <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
            <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
            <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
          </ul>
        </li>
        <li>
          
          <a href="https://github.com/apache/beam/edit/master/website/www/site/content/en/contribute/committer-guide.md" data-proofer-ignore>
            <i class="far fa-edit fa-lg" alt="Edit on GitHub" title="Edit on GitHub"></i>
          </a>
        </li>
      </ul>
    </div>
</nav>

  <div class="clearfix container-main-content">
    <div class="section-nav closed" data-offset-top="90" data-offset-bottom="500">
      <span class="section-nav-back glyphicon glyphicon-menu-left"></span>
      <nav>
        <ul class="section-nav-list" data-section-nav>
          

<li><span class="section-nav-list-main-title">Contribute</span></li>
<li><a href="/contribute/">Get started contributing</a></li>
<li><a href="/contribute/get-help/">Get Help</a></li>
<li>
  <span class="section-nav-list-title">Technical Docs</span>

  <ul class="section-nav-list">
    <li><a href="https://cwiki.apache.org/confluence/display/BEAM/Contribution+Testing+Guide">Testing guide</a></li>
    <li><a href="/contribute/precommit-triage-guide/">Pre-commit Slowness Triage</a></li>
    <li><a href="/contribute/ptransform-style-guide/">PTransform style guide</a></li>
    <li><a href="/contribute/runner-guide/">Runner authoring guide</a></li>
    <li><a href="https://cwiki.apache.org/confluence/display/BEAM/Design+Documents">Design documents</a></li>
    <li><a href="/contribute/dependencies/">Dependencies guide</a></li>
    <li><a href="/contribute/feature-branches/">Feature branches</a></li>
  </ul>
</li>
<li>
  <span class="section-nav-list-title">Policies</span>
  <ul class="section-nav-list">
    <li><a href="/contribute/jira-priorities/">Jira priorities</a></li>
    <li><a href="/contribute/precommit-policies/">Pre-commit test policies</a></li>
    <li><a href="/contribute/postcommits-policies/">Post-commit test policies</a></li>
    <li><a href="/contribute/release-blockers/">Release blockers</a></li>
  </ul>
</li>
<li>
  <span class="section-nav-list-title">Committers</span>
  <ul class="section-nav-list">
    <li><a href="/contribute/become-a-committer/">Become a committer</a></li>
    <li><a href="/contribute/committer-guide/">Committer guide</a></li>
    <li><a href="/contribute/release-guide/">Release guide</a></li>
  </ul>
</li>

        </ul>
      </nav>
    </div>

    <nav class="page-nav clearfix" data-offset-top="90" data-offset-bottom="500">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#pull-request-review-objectives">Pull request review objectives</a></li>
    <li><a href="#always-get-to-lgtm-looks-good-to-me">Always get to LGTM (&ldquo;Looks good to me!&quot;)</a></li>
    <li><a href="#contributor-license-agreement">Contributor License Agreement</a></li>
    <li><a href="#tests">Tests</a></li>
    <li><a href="#finishing-touches">Finishing touches</a></li>
    <li><a href="#merging-it">Merging it!</a></li>
  </ul>
</nav>
    </nav>

    <div class="body__contained body__section-nav">
      <!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<h1 id="committer-guide">Committer Guide</h1>
<p>This guide is for
<a href="https://www.apache.org/foundation/how-it-works.html#committers">committers</a>
and covers Beam&rsquo;s guidelines for reviewing and merging code.</p>
<h2 id="pull-request-review-objectives">Pull request review objectives</h2>
<p>The review process aims for:</p>
<ul>
<li>Review iterations should be efficient, timely and of quality (avoid tiny or out-of-context changes or huge mega-changes)</li>
<li>Support efficiency of authoring (don&rsquo;t want to wait on a review for a tiny bit because GitHub makes it very hard to stack up reviews in sequence / don&rsquo;t want to have major changes blocked because of difficulty of review)</li>
<li>Ease of first-time contribution (encourage to follow <a href="/contribute/#contributing-code">contribution guildelines</a>
but committer may absorb some extra effort for new contributors)</li>
<li>Pull requests and commit messages establish a clear history with purpose and origin of changes</li>
<li>Ability to perform a granular rollback, if necessary (also see <a href="/contribute/postcommits-policies/">policies</a>)</li>
</ul>
<p>Granularity of changes:</p>
<ul>
<li>We prefer small independent, incremental PRs with descriptive, isolated commits. Each commit is a single clear change</li>
<li>It is OK to keep separate commits for different logical pieces of the code, if they make reviewing and revisiting code easier</li>
<li>Making commits isolated is a good practice, authors should be able to relatively easily split the PR upon reviewer&rsquo;s request</li>
<li>Generally, every commit should compile and pass tests.</li>
<li>Avoid keeping in history formatting messages such as checkstyle or spotless fixes.  Squash such commits with previous one.</li>
</ul>
<h2 id="always-get-to-lgtm-looks-good-to-me">Always get to LGTM (&ldquo;Looks good to me!&quot;)</h2>
<p>After a pull request goes through rounds of reviews and revisions, it will
become ready for merge. A reviewer signals their approval either
by GitHub &ldquo;approval&rdquo; or by a comment such as &ldquo;Looks good to me!&rdquo; (LGTM).</p>
<ul>
<li>If the author of the pull request is not a committer, a committer must be
the one to approve the change.</li>
<li>If the author of the pull request is a committer, approval from their chosen
reviewer is enough. A committer is trusted to choose an appropriate
reviewer, even if the reviewer is not a committer.</li>
</ul>
<p>Once a pull request is approved, any committer can merge it.</p>
<p>Exceptions to this rule are rare and made on a case-by-case basis. A committer
may use their discretion for situations such as build breaks. In this case, you
should still seek a review on the pull request!  A common acronym you may see
is &ldquo;TBR&rdquo; &ndash; &ldquo;to be reviewed&rdquo;.</p>
<p><strong>Always go through a pull request, even if you won’t wait for the code
review.</strong> Committers should never commit anything without going through a pull
request, even when it is an urgent fix or rollback due to build breakage.
Skipping pull request bypasses test coverage and could potentially cause the
build to fail, or fail to fix breakage.  In addition, pull requests ensure that
changes are communicated properly and potential flaws or improvements can be
spotted, even after the merge happens.</p>
<h2 id="contributor-license-agreement">Contributor License Agreement</h2>
<p>If you are merging a larger contribution, please make sure that the contributor
has an ICLA on file with the Apache Secretary. You can view the list of
committers <a href="https://home.apache.org/phonebook.html?unix=committers">here</a>, as
well as <a href="http://home.apache.org/unlistedclas.html">ICLA-signers who aren’t yet
committers</a>.</p>
<p>For smaller contributions, however, this is not required. In this case, we rely
on <a href="https://www.apache.org/licenses/LICENSE-2.0#contributions">clause five</a> of
the Apache License, Version 2.0, describing licensing of intentionally
submitted contributions.</p>
<h2 id="tests">Tests</h2>
<p>Before merging, please make sure that Jenkins tests pass, as visible in the
GitHub pull request. Do not merge the pull request if there are test failures.</p>
<p>If the pull request contains changes that call for extra test coverage, you can
ask Jenkins to run an extended test suite. For example, if the pull request
modifies a runner, you can run the full <code>ValidatesRunner</code> suite with a comment
such as &ldquo;Run Spark ValidatesRunner&rdquo;. You can run the examples and some IO
integration tests with &ldquo;Run Java PostCommit&rdquo;.</p>
<h2 id="finishing-touches">Finishing touches</h2>
<p>At some point in the review process, the change to the codebase will be
complete. However, the pull request may have a collection of review-related
commits that are not meaningful to preserve in the history. The reviewer should
give the LGTM and then request that the author of the pull request rebase,
squash, split, etc, the commits, so that the history is most useful:</p>
<ul>
<li>Favor commits that do just one thing. The commit is the smallest unit of easy
rollback; it is easy to roll back many commits, or a whole pull request, but
harder to roll back part of a commit.</li>
<li>Commit messages should tag JIRAs and be otherwise descriptive.
It should later not be necessary to find a merge or first PR commit to find out what caused a change.</li>
<li><code>CHANGES.md</code> file should be updated with noteworthy changes (e.g. new features, backward
incompatible changes, dependency changes, etc.).</li>
<li>Squash the &ldquo;Fixup!&quot;, &ldquo;Address comments&rdquo; type of commits that resulted from review iterations.</li>
</ul>
<h2 id="merging-it">Merging it!</h2>
<p>While it is preferred that authors squash commits after review is complete,
there may be situations where it is more practical for the committer to handle this
(such as when the action to be taken is obvious or the author isn&rsquo;t available).
The committer may use the &ldquo;Squash and merge&rdquo; option in Github (or modify the PR commits in other ways).
The committer is ultimately responsible and we &ldquo;trust the committer&rsquo;s judgment&rdquo;!</p>
<p>After all the tests pass, there should be a green merge button at the bottom of
the pull request. There are multiple choices. Unless you want to squash commits
as part of the merge (see above) you should choose &ldquo;Merge pull
request&rdquo; and ensure &ldquo;Create a merge commit&rdquo; is selected from the drop down.
This preserves the commit history and adds a merge
commit, so be sure the commit history has been curated appropriately.</p>
<p>Do <em>not</em> use the default GitHub commit message, which looks like this:</p>
<pre><code>Merge pull request #1234 from some_user/transient_branch_name

[BEAM-7873] Fix the foo bizzle bazzle
</code></pre>
<p>Instead, pull it all into the subject line:</p>
<pre><code>Merge pull request #1234: [BEAM-7873] Fix the foo bizzle bazzle
</code></pre>
<p>If you have comments to add, put them in the body of the commit message.</p>

    </div>
  </div>


<footer class="footer">
  <div class="footer__contained">
    <div class="footer__cols">
      <div class="footer__cols__col">
        <div class="footer__cols__col__logo">
          <img src="/images/beam_logo_circle.svg" class="footer__logo" alt="Beam logo">
        </div>
        <div class="footer__cols__col__logo">
          <img src="/images/apache_logo_circle.svg" class="footer__logo" alt="Apache logo">
        </div>
      </div>
      <div class="footer__cols__col footer__cols__col--md">
        <div class="footer__cols__col__title">Start</div>
        <div class="footer__cols__col__link"><a href=/get-started/beam-overview/>Overview</a></div>
        <div class="footer__cols__col__link"><a href=/get-started/quickstart-java/>Quickstart (Java)</a></div>
        <div class="footer__cols__col__link"><a href=/get-started/quickstart-py/>Quickstart (Python)</a></div>
        <div class="footer__cols__col__link"><a href=/get-started/quickstart-go/>Quickstart (Go)</a></div>
        <div class="footer__cols__col__link"><a href=/get-started/downloads/>Downloads</a></div>
      </div>
      <div class="footer__cols__col footer__cols__col--md">
        <div class="footer__cols__col__title">Docs</div>
        <div class="footer__cols__col__link"><a href=/documentation/programming-guide/>Concepts</a></div>
        <div class="footer__cols__col__link"><a href=/documentation/pipelines/design-your-pipeline/>Pipelines</a></div>
        <div class="footer__cols__col__link"><a href=/documentation/runners/capability-matrix/>Runners</a></div>
      </div>
      <div class="footer__cols__col footer__cols__col--md">
        <div class="footer__cols__col__title">Community</div>
        <div class="footer__cols__col__link"><a href=/contribute/>Contribute</a></div>
        <div class="footer__cols__col__link"><a href=https://projects.apache.org/committee.html?beam target="_blank">Team<img src="/images/external-link-icon.png"
                                                                                                                                width="14" height="14"
                                                                                                                                alt="External link."></a></div>
        <div class="footer__cols__col__link"><a href=/community/presentation-materials/>Media</a></div>
       <div class="footer__cols__col__link"><a href=/community/in-person/>Events/Meetups</a></div>
      </div>
      <div class="footer__cols__col footer__cols__col--md">
        <div class="footer__cols__col__title">Resources</div>
        <div class="footer__cols__col__link"><a href=/blog/>Blog</a></div>
        <div class="footer__cols__col__link"><a href=/community/contact-us/>Contact Us</a></div>
        <div class="footer__cols__col__link"><a href=https://github.com/apache/beam>GitHub</a></div>
      </div>
    </div>
  </div>
  <div class="footer__bottom">
    &copy;
    <a href="http://www.apache.org">The Apache Software Foundation</a>
    | <a href=/privacy_policy>Privacy Policy</a>
    | <a href=/feed.xml>RSS Feed</a>
    <br><br>
    Apache Beam, Apache, Beam, the Beam logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation. All other products or name brands are trademarks of their respective holders, including The Apache Software Foundation.
  </div>
</footer>

</body>
</html>
